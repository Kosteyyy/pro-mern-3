(()=>{"use strict";var e,t={124:(e,t,n)=>{var r=n(294),s=n(935),a=n(245),l=n(132),o=n(424),i=n(250),c=n(28),u=n(463),d=n.n(u),m=n(300);class p extends r.Component{constructor(){super(),this.onChangeStatus=this.onChangeStatus.bind(this)}onChangeStatus(e){const t=e.target.value,{history:n}=this.props;n.push({pathname:"/issues",search:t?`?status=${t}`:""})}render(){return r.createElement("div",null,"Status:"," ",r.createElement("select",{onChange:this.onChangeStatus},r.createElement("option",{value:""},"(All)"),r.createElement("option",{value:"New"},"New"),r.createElement("option",{value:"Assigned"},"Assigned"),r.createElement("option",{value:"Fixed"},"Fixed"),r.createElement("option",{value:"Closed"},"Closed")))}}const h=(0,m.Z)(p);var E=n(825);const b=(0,m.Z)((({issue:e,location:{search:t}})=>{const n={pathname:`/issues/${e.id}`,search:t};return r.createElement("tr",null,r.createElement("td",null,e.id),r.createElement("td",null,e.status),r.createElement("td",null,e.owner),r.createElement("td",null,e.created.toDateString()),r.createElement("td",null,e.effort),r.createElement("td",null,e.due?e.due.toDateString():" "),r.createElement("td",null,e.title),r.createElement("td",null,r.createElement(E.Z,{to:`/edit/${e.id}`},"Edit")," | ",r.createElement(l.Z,{to:n},"Select")))}));function f({issues:e}){const t=e.map((e=>r.createElement(b,{key:e.id,issue:e})));return r.createElement("table",{className:"bordered-table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"ID"),r.createElement("th",null,"Status"),r.createElement("th",null,"Owner"),r.createElement("th",null,"Created"),r.createElement("th",null,"Effort"),r.createElement("th",null,"Due Date"),r.createElement("th",null,"Title"),r.createElement("th",null,"Action"))),r.createElement("tbody",null,t))}class v extends r.Component{constructor(){super(),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){e.preventDefault();const t=document.forms.issueAdd,n={owner:t.owner.value,title:t.title.value,due:new Date((new Date).getTime()+864e6)},{createIssue:r}=this.props;r(n),t.owner.value="",t.title.value=""}render(){return r.createElement("form",{name:"issueAdd",onSubmit:this.handleSubmit},r.createElement("input",{type:"text",name:"owner",placeholder:"Owner"}),r.createElement("input",{type:"text",name:"title",placeholder:"Title"}),r.createElement("button",{type:"submit"},"Add"))}}const A=new RegExp("^\\d\\d\\d\\d-\\d\\d-\\d\\d");function g(e,t){return A.test(t)?new Date(t):t}async function y(e,t={}){try{const n=await fetch(window.ENV.UI_API_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})}),r=await n.text(),s=JSON.parse(r,g);if(s.errors){const e=s.errors[0];if("BAD_USER_INPUT"===e.extensions.code){const t=e.extensions.exception.errors.join("\n ");alert(`${e.message}:\n ${t}`)}else alert(`${e.extensions.code}: ${e.message}`)}return s.data}catch(e){return alert(`Error in sending data to server: ${e.message}`),null}}class w extends r.Component{constructor(){super(),this.state={issue:{}}}componentDidMount(){this.loadData()}componentDidUpdate(e){const{match:{params:{id:t}}}=e,{match:{params:{id:n}}}=this.props;t!==n&&this.loadData()}async loadData(){const{match:{params:{id:e}}}=this.props,t=await y("query issue($id: Int!) {\n\t\t\tissue (id: $id) {\n\t\t\t\tid description \n\t\t\t}\n\t\t}",{id:e});t?this.setState({issue:t.issue}):this.setState({issue:{}})}render(){const{issue:{description:e}}=this.state;return r.createElement("div",null,r.createElement("h3",null,"Description"),r.createElement("pre",null,e))}}class C extends r.Component{constructor(){super(),this.state={issues:[]},this.createIssue=this.createIssue.bind(this)}componentDidMount(){this.loadData()}componentDidUpdate(e){const{location:{search:t}}=e,{location:{search:n}}=this.props;t!=n&&this.loadData()}async loadData(){const{location:{search:e}}=this.props,t=new(d())(e),n={};t.get("status")&&(n.status=t.get("status"));const r=await y("query issueList($status: StatusType) {\n\t\t\tissueList (status: $status) {\n\t\t\t\tid title status owner created effort due\n\t\t\t}\n\t\t}",n);r&&this.setState({issues:r.issueList})}async createIssue(e){await y("mutation issueAdd($issue: IssueInputs!) {\n\t\t\tissueAdd(issue: $issue) {\n\t\t\t\tid\n\t\t\t}\t\n\t\t}",{issue:e})&&this.loadData()}render(){const{issues:e}=this.state,{match:t}=this.props;return r.createElement(r.Fragment,null,r.createElement("h1",null,"Issue Tracker 2.2"),r.createElement(h,null),r.createElement("hr",null),r.createElement(f,{issues:e}),r.createElement("hr",null),r.createElement(v,{createIssue:this.createIssue}),r.createElement("hr",null),r.createElement(c.Z,{path:`${t.path}/:id`,component:w}))}}function D(){return r.createElement("div",null,r.createElement("h2",null,"This is a placeholder for the Issue Report"))}function x({match:e}){const{id:t}=e.params;return r.createElement("h2",null,`This is a placeholder for editing issue ${t}`)}const S=()=>r.createElement("h1",null,"Page Not Found");function Z(){return r.createElement(o.Z,null,r.createElement(i.Z,{exact:!0,from:"/",to:"/issues"}),r.createElement(c.Z,{path:"/issues",component:C}),r.createElement(c.Z,{path:"/edit/:id",component:x}),r.createElement(c.Z,{path:"/report",component:D}),r.createElement(c.Z,{component:S}))}function I(){return r.createElement("nav",null,r.createElement(l.Z,{exact:!0,to:"/"},"Home")," | ",r.createElement(l.Z,{to:"/issues"},"Issue List")," | ",r.createElement(l.Z,{to:"/report"},"Report"))}function O(){return r.createElement("div",null,r.createElement(I,null),r.createElement(Z,null))}var $=n(379),T=n.n($),k=n(795),B=n.n(k),N=n(569),_=n.n(N),j=n(565),P=n.n(j),F=n(216),U=n.n(F),R=n(589),L=n.n(R),q=n(426),M={};M.styleTagTransform=L(),M.setAttributes=P(),M.insert=_().bind(null,"head"),M.domAPI=B(),M.insertStyleElement=U(),T()(q.Z,M),q.Z&&q.Z.locals&&q.Z.locals;const J=r.createElement(a.Z,null,r.createElement(O,null));s.render(J,document.getElementById("root"))},426:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(15),s=n.n(r),a=n(645),l=n.n(a)()(s());l.push([e.id,"table.bordered-table th, td \r\n\t{\r\n\tborder: 1px solid silver;\r\n\tpadding: 4px;\r\n}\r\ntable.bordered-table \r\n\t{border-collapse: collapse;}\r\na.active {background-color: #D8D8F5;}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;;CAEC,wBAAwB;CACxB,YAAY;AACb;AACA;EACE,yBAAyB,CAAC;AAC5B,UAAU,yBAAyB,CAAC",sourcesContent:["table.bordered-table th, td \r\n\t{\r\n\tborder: 1px solid silver;\r\n\tpadding: 4px;\r\n}\r\ntable.bordered-table \r\n\t{border-collapse: collapse;}\r\na.active {background-color: #D8D8F5;}"],sourceRoot:""}]);const o=l}},n={};function r(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={id:e,exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,n,s,a)=>{if(!n){var l=1/0;for(u=0;u<e.length;u++){for(var[n,s,a]=e[u],o=!0,i=0;i<n.length;i++)(!1&a||l>=a)&&Object.keys(r.O).every((e=>r.O[e](n[i])))?n.splice(i--,1):(o=!1,a<l&&(l=a));if(o){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,s,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var s,a,[l,o,i]=n,c=0;if(l.some((t=>0!==e[t]))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(i)var u=i(r)}for(t&&t(n);c<l.length;c++)a=l[c],r.o(e,a)&&e[a]&&e[a][0](),e[l[c]]=0;return r.O(u)},n=self.webpackChunkpro_mern_3=self.webpackChunkpro_mern_3||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=r.O(void 0,[736],(()=>r(124)));s=r.O(s)})();
//# sourceMappingURL=app.bundle.js.map